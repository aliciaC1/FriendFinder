<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
     <!--Import Google Icon Font-->
     <link href="https://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet">
     <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
     <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
     <link href="https://fonts.googleapis.com/css?family=Noto+Serif+KR|Quicksand:300|Work+Sans:100,200" rel="stylesheet">
     <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />

     <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <link rel="stylesheet" href="./assets/style.css">
    <title>Friend Finder</title>
</head>
<body>
    <header> </header>

    <main>
        <div class = "container">
            <div class ="infosection">
                <div class="row">
                        <div class="col s3">
                  <h4>My name is</h4> 
                  </div>  
                        <div class="input-field col s8">
                          <input value="" id="name" type="text" class="validate">
                          <label class="active" for="first_name2"></label>
                        </div>
                      </div>
                <div class = "row">
                    <div class = " col s2">
                <h4>I am </h4>
            </div>
                <div class ="col s10">
                        <div class="input-field">
                                <select>
                                  <option value="" disabled selected>  option</option>
                                  <option value="1">16-24</option>
                                  <option value="2">35-44</option>
                                  <option value="3">45+</option>
                                </select>
                          
                              </div>
                </div>
            
                    </div>   
                <div class = "row">
                    <div class = "col s4">
                    <h4>This is my photo </h4>
                </div>
                    <div class="col s8">
                            <!-- <div class="small-12 medium-2 large-2 columns"> -->
                              <div class="circle">
                                <!-- User Profile Image -->
                                <img class="profile-pic" src="http://cdn.cutestpaw.com/wp-content/uploads/2012/07/l-Wittle-puppy-yawning.jpg">
                         
                                <!-- Default Image -->
                                <!-- <i class="fa fa-user fa-5x"></i> -->
                              </div>
                              <div class="p-image">
                                <i class="fa fa-camera upload-button"></i>
                                 <input class="file-upload" type="file" accept="image/*" id="photo"/>
                              </div>
                           <!-- </div> -->
                         </div>
                </div>
            </div>
            <div class = "questionaire">
            <form>
                <div class = "row" data-aos="fade-up" data-aos-duration="3000">
                    <blockquote class = "questions">
                        <h6>
                            Question 1 / Your mind is always buzzing with unexplored ideas and plans.
                        </h6>
                        <div class="input-field">
                        <select id="q1">
                            <option value="" disabled selected>  option</option>
                            <option value="1">1 / strongly disagree</option>
                            <option value="2">2 / disagree</option>
                            <option value="3">3 / neutral</option>
                            <option value="4">4 / agree</option>
                            <option value="5">5 / strongly agree</option>
                          </select>        
                        </div>
                        <br>
                    </blockquote>
                </div>
                
                <div class = "row" data-aos="fade-up" data-aos-duration="3000">
                    <blockquote class = "questions">
                        <h6>
                            Question 2 / Generally speaking, you rely more on your experience than your imagination.
                        </h6>
                        <div class="input-field">
                         <select id="q2">
                            <option value="" disabled selected>  option</option>
                            <option value="1">1 / strongly disagree</option>
                            <option value="2">2 / disagree</option>
                            <option value="3">3 / neutral</option>
                            <option value="4">4 / agree</option>
                            <option value="5">5 / strongly agree</option>
                          </select>        
                        </div>
                        <br>
                    </blockquote>
                </div>

                <div class = "row" data-aos="fade-up" data-aos-duration="3000">
                        <blockquote class = "questions">
                            <h6>
                                Question 3 / You find it easy to stay relaxed and focused even when there is some pressure.
                            </h6>
                            <div class="input-field">
                           <select id="q3">
                                <option value="" disabled selected>  option</option>
                                <option value="1">1 / strongly disagree</option>
                                <option value="2">2 / disagree</option>
                                <option value="3">3 / neutral</option>
                                <option value="4">4 / agree</option>
                                <option value="5">5 / strongly agree</option>
                              </select>        
                            </div>
                            <br>
                        </blockquote>
                    </div>
                    
                    <div class = "row" data-aos="fade-up" data-aos-duration="3000">
                        <blockquote class = "questions">
                            <h6>
                                Question 4 / You rarely do something just out of sheer curiosity.
                            </h6>
                            <div class="input-field">
                             <select id="q4">
                                <option value="" disabled selected>  option</option>
                                <option value="1">1 / strongly disagree</option>
                                <option value="2">2 / disagree</option>
                                <option value="3">3 / neutral</option>
                                <option value="4">4 / agree</option>
                                <option value="5">5 / strongly agree</option>
                              </select>        
                            </div>
                            <br>
                        </blockquote>
                    </div>

                <div class = "row" data-aos="fade-up" data-aos-duration="3000">
                    <blockquote class = "questions">
                        <h6>
                            Question 4 / People can rarely upset you.
                        </h6>
                        <div class="input-field">
                         <select id="q5">
                            <option value="" disabled selected>  option</option>
                            <option value="1">1 / strongly disagree</option>
                            <option value="2">2 / disagree</option>
                            <option value="3">3 / neutral</option>
                            <option value="4">4 / agree</option>
                            <option value="5">5 / strongly agree</option>
                          </select>        
                        </div>
                        <br>
                    </blockquote>
                </div>
                
                <div class = "row" data-aos="fade-up" data-aos-duration="3000">
                    <blockquote class = "questions">
                        <h6>
                            Question 6 / It is often difficult for you to relate to other people’s feelings.

                        </h6>
                        <div class="input-field">
                         <select id="q6">
                            <option value="" disabled selected>  option</option>
                            <option value="1">1 / strongly disagree</option>
                            <option value="2">2 / disagree</option>
                            <option value="3">3 / neutral</option>
                            <option value="4">4 / agree</option>
                            <option value="5">5 / strongly agree</option>
                          </select>        
                        </div>
                        <br>
                    </blockquote>
                </div>

                <div class = "row" data-aos="fade-up" data-aos-duration="3000">
                    <blockquote class = "questions">
                        <h6>
                            Question 7 / In a discussion, truth should be more important than people’s sensitivities.
                        </h6>
                        <div class="input-field">
                         <select id="q7">
                            <option value="" disabled selected>  option</option>
                            <option value="1">1 / strongly disagree</option>
                            <option value="2">2 / disagree</option>
                            <option value="3">3 / neutral</option>
                            <option value="4">4 / agree</option>
                            <option value="5">5 / strongly agree</option>
                          </select>        
                        </div>
                        <br>
                    </blockquote>
                </div>
                
                <div class = "row" data-aos="fade-up" data-aos-duration="3000">
                    <blockquote class = "questions">
                        <h6>
                            Question 8 / You rarely get carried away by fantasies and ideas.
                        </h6>
                        <div class="input-field">
                        <select id="q8">
                            <option value="" disabled selected>  option</option>
                            <option value="1">1 / strongly disagree</option>
                            <option value="2">2 / disagree</option>
                            <option value="3">3 / neutral</option>
                            <option value="4">4 / agree</option>
                            <option value="5">5 / strongly agree</option>
                          </select>        
                        </div>
                        <br>
                    </blockquote>
                </div>

                <div class = "row" data-aos="fade-up" data-aos-duration="3000">
                    <blockquote class = "questions">
                        <h6>
                            Question 9 / You think that everyone’s views should be respected regardless of whether they are supported by facts or not.
                        </h6>
                        <div class="input-field">
                        <select id="q9">
                            <option value="" disabled selected>  option</option>
                            <option value="1">1 / strongly disagree</option>
                            <option value="2">2 / disagree</option>
                            <option value="3">3 / neutral</option>
                            <option value="4">4 / agree</option>
                            <option value="5">5 / strongly agree</option>
                          </select>        
                        </div>
                        <br>
                    </blockquote>
                </div>
                
                <div class = "row" data-aos="fade-up" data-aos-duration="3000">
                    <blockquote class = "questions">
                        <h6>
                            Question 10 / You feel more energetic after spending time with a group of people.
                        </h6>
                        <div class="input-field">
                         <select id="q10">
                            <option value="" disabled selected>  option</option>
                            <option value="1">1 / strongly disagree</option>
                            <option value="2">2 / disagree</option>
                            <option value="3">3 / neutral</option>
                            <option value="4">4 / agree</option>
                            <option value="5">5 / strongly agree</option>
                          </select>        
                        </div>
                        <br>
                    </blockquote>
                </div>
                </form>
      </div>
      <div class = "row">
                <button class="btn waves-effect waves-light" type="submit" name="action" id ="submit">Submit
                    <i class="material-icons "></i>
                </button>     
            </div>
                    
        </div>  
    </div>  
        
        
    </main>

    <footer class="page-footer">
            <div class="footer-copyright">
                    <div class="container">
                      <div class = "black-text text-black right">© 2018 Copyright AC </div> 
                      <a class="black-text text-black" href="/api/friends">API Friend List |</a> 
                      
                     <a class="black-text text-black " href="https://github.com/aliciaC1/FriendFinder">Github Repo</a> 
                    </div>
            </div>
     </footer>
 <!--Import jQuery before materialize.js-->
 <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
 <!-- Compiled and minified JavaScript -->
 <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
         
    <script> M.AutoInit();</script>
    <script>       $(document).ready(
            function() {
                $('select').material_select();  

});</script>
  <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
  <script>
    AOS.init();
  </script>

	<div id="modal1" class="modal">
            <div class="modal-content center-align">
                <h4>Your Closest Friend Match</h4>
                <div class="divider"></div>
                <h5 id="userMatch"></h5>
                <img id="userMatchImage" class="materialboxed" style= "margin: auto;" width="250" src="">
            </div>
            <div class="modal-footer">
                <a href="/survey" class="modal-action modal-close waves-effect waves-black btn waves-effect waves-light">Find another Friend Match!</a>
            </div>
        </div>
    
        <script type="text/javascript">
            $(document).ready(function() {
               

    
var readURL = function(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
            $('.profile-pic').attr('src', e.target.result);
        }

        reader.readAsDataURL(input.files[0]);
    }
}


$(".file-upload").on('change', function(){
    readURL(this);
});

$(".upload-button").on('click', function() {
   $(".file-upload").click();
});
                $('select').material_select();
                $('.modal').modal({
                    dismissible: false, // Modal can be dismissed by clicking outside of the modal
                    opacity: .5, // Opacity of modal background
                    inDuration: 300, // Transition in duration
                    outDuration: 200, // Transition out duration
                    startingTop: '4%', // Starting top style attribute
                    width: '30%',
                    endingTop: '10%' // Ending top style attribute
                
                });
            });
            // Activate submit button
            $('#submit').on('click', function(event) {
                event.preventDefault();
                // Gather user inputs
                var userInput = {
                    name: $('#name').val().trim(),
                    photo: $('#photo').val().trim(),
                    scores:[
                        $('#q1').val().trim(),
                        $('#q2').val().trim(),
                        $('#q3').val().trim(),
                        $('#q4').val().trim(),
                        $('#q5').val().trim(),
                        $('#q6').val().trim(),
                        $('#q7').val().trim(),
                        $('#q8').val().trim(),
                        $('#q9').val().trim(),
                        $('#q10').val().trim()
                    ]
                };
                // console.log('userInput = ' + JSON.stringify(userInput));
                // Add user inputs to friends list
                $.post('/api/friends', userInput)
                  .done(function(data) {
                      // console.log('response = ' + JSON.stringify(data));
                      // Set the name and image values of friend match
                      $('#userMatch').html(data.matchName);
                    $("#userMatchImage").attr("src", data.matchImage);
                    // Pop open the modal dialog
                      $('#modal1').modal('open');
                  });
            });
        </script>
    

</body>
</html>